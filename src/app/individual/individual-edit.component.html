<div gdColumns="repeat(8, 1fr)">
  <div gdColumn="2 / span 6" gdColumn.lt-md="1 / span 8" gdColumns="repeat(6, 1fr)" class="detail-view">
    <div gdColumn="1 / span 6" gdColumn.lt-md="1 / span 8" class="detail-header">
      <div gdColumns="repeat(6, 1fr)">
        <google-map
          [class]="(imageUrl | async) ? 'individual-map-with-image' : 'individual-map'"
          [gdColumn]="(imageUrl | async) ? '1 / span 4' : '1 / span 6'"
          width="100%"
          height="402px"
          [center]="center"
          [zoom]="zoom"
          [options]="options"
        >
          <map-marker
            #marker
            [position]="geopos"
            [options]="markerOptions"
            (mapDragend)="updateGeopos($event)"
          ></map-marker>
        </google-map>
        <div gdColumn="5 / span 2" class="image-container" *ngIf="imageUrl | async; let url">
          <img class="individual-image" [src]="url" width="100%" />
        </div>
      </div>
      <button mat-fab class="detail-header-fab" color="accent" (click)="locateMe()">
        <mat-icon svgIcon="locateMe"></mat-icon>
      </button>
    </div>
    <div gdColumn="1 / span 6" gdColumns="repeat(6, 1fr)" class="detail-content">
      <div gdColumn="1 / span 2" gdColumn.lt-md="1 / span 6" class="detail-left">
        <h3 translate>OBJEKT ERFASSEN</h3>
      </div>
      <div gdColumn="3 / span 4" gdColumn.lt-md="1 / span 6" class="detail-right">
        <form id="createForm" [formGroup]="createForm" (ngSubmit)="onSubmit()" *ngIf="detailSubject | async">
          <div>
            <mat-form-field class="geopos-width">
              <input
                matInput
                name="geopos"
                [value]="geopos.lat + ', ' + geopos.lng"
                placeholder="{{ 'Standort (Geo-Koordinaten)' | translate }}"
                type="text"
                disabled
                required
              />
            </mat-form-field>
            <mat-form-field>
              <input
                matInput
                name="altitude"
                [value]="altitude"
                placeholder="{{ 'Höhe M.ü.M.' | translate }}"
                type="text"
                disabled
              />
            </mat-form-field>
          </div>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Pflanzenart' | translate }}</mat-label>
            <mat-select formControlName="species" required>
              <mat-option>{{ 'Bitte wählen' | translate }}</mat-option>
              <mat-option *ngFor="let element of selectableSpecies | async" [value]="element.id">
                {{ element.de | translate }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Name / Kennzeichnung' | translate }} </mat-label>
            <input
              matInput
              formControlName="name"
              id="name"
              placeholder="{{ 'Name / Kennzeichnung' | translate }}"
              type="text"
              required
            />
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Foto' | translate }} </mat-label>
            <input
              matInput
              id="fotos"
              placeholder="{{ 'Foto vom Objekt hinzufügen' | translate }}"
              type="text"
              value="{{ fileToUpload?.name }}"
              readonly="true"
            />
            <mat-icon class="add-image" matSuffix color="primary" (click)="fileInput.click()">add_circle</mat-icon>
            <mat-icon *ngIf="fileToUpload" class="add-image" matSuffix color="warn" (click)="removeUploadedFile()"
              >delete</mat-icon
            >
            <input
              hidden
              (change)="onFileSelected($event.target.files)"
              #fileInput
              type="file"
              id="file"
              accept=".jpg,.jpeg,.png,"
            />
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Umgebung' | translate }}</mat-label>
            <mat-select formControlName="description" required>
              <mat-option>{{ 'Bitte wählen' | translate }}</mat-option>
              <mat-option *ngFor="let element of selectableDescriptions | async" [value]="element.id">
                {{ element.de | translate }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Exposition' | translate }}</mat-label>
            <mat-select formControlName="exposition" required>
              <mat-option>{{ 'Bitte wählen' | translate }}</mat-option>
              <mat-option *ngFor="let element of selectableExpositions | async" [value]="element.id">
                {{ element.de | translate }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div>
            <mat-form-field>
              <mat-label>{{ 'Hangneigung' | translate }}</mat-label>
              <input
                matInput
                formControlName="gradient"
                type="number"
                min="0"
                max="100"
                step="1"
                placeholder="{{ 'Hangneigung in %' | translate }}"
                class="right-align"
                required
              />
              <span matSuffix>%</span>
            </mat-form-field>
            <img class="gradient-info-img" src="assets/img/info_gradient.png" />
          </div>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Schatten' | translate }}</mat-label>
            <mat-select formControlName="shade" required>
              <mat-option>{{ 'Bitte wählen' | translate }}</mat-option>
              <mat-option *ngFor="let element of selectableShades | async" [value]="element.id">
                {{ element.de | translate }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Bewässerung' | translate }}</mat-label>
            <mat-select formControlName="watering" required>
              <mat-option>{{ 'Bitte wählen' | translate }}</mat-option>
              <mat-option *ngFor="let element of selectableIrrigations | async" [value]="element.id">
                {{ element.de | translate }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Distanz zu Gebäude / Strasse' | translate }}</mat-label>
            <mat-select formControlName="less100" required>
              <mat-option>{{ 'Bitte wählen' | translate }}</mat-option>
              <mat-option *ngFor="let element of selectableDistances | async" [value]="element.id">
                {{ element.de | translate }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Habitat' | translate }}</mat-label>
            <mat-select formControlName="habitat" required>
              <mat-option>{{ 'Bitte wählen' | translate }}</mat-option>
              <mat-option *ngFor="let element of selectableHabitats | async" [value]="element.id">
                {{ element.de | translate }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="full-width">
            <mat-label>{{ 'Waldtyp' | translate }}</mat-label>
            <mat-select formControlName="forest" required>
              <mat-option>{{ 'Bitte wählen' | translate }}</mat-option>
              <mat-option *ngFor="let element of selectableForests | async" [value]="element.id">
                {{ element.de | translate }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <button
            mat-flat-button
            color="primary"
            type="submit"
            id="create-button"
            [disabled]="createForm.invalid"
            [appDisableNotOwner]="(detailSubject | async)?.user"
          >
            {{ 'Objekt speichern' | translate }}
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
